-- ============================================================================
-- Rollback: Stars System Migration
-- Removes all stars system tables and columns
-- ============================================================================

-- ============================================================================
-- 1. Drop user_star_events table
-- ============================================================================

DROP TABLE IF EXISTS user_star_events;

-- ============================================================================
-- 2. Drop achievement_rules table
-- ============================================================================

DROP TABLE IF EXISTS achievement_rules;

-- ============================================================================
-- 3. Drop season_user_stats table
-- ============================================================================

DROP TABLE IF EXISTS season_user_stats;

-- ============================================================================
-- 4. Remove columns from leaderboard_snapshots
-- ============================================================================

ALTER TABLE leaderboard_snapshots DROP COLUMN IF EXISTS stars;
ALTER TABLE leaderboard_snapshots DROP COLUMN IF EXISTS score;

-- ============================================================================
-- 5. Remove season_id from bull_pens
-- ============================================================================

ALTER TABLE bull_pens DROP COLUMN IF EXISTS season_id;

-- ============================================================================
-- Rollback complete
-- ============================================================================

