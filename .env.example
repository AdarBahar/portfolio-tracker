# Portfolio Tracker Configuration
# This file contains configurable parameters for the application
# Copy this file to .env and adjust values as needed

# ============================================================================
# PRICE UPDATE NOTIFICATIONS
# ============================================================================

# Number of consecutive price update failures before showing a notification
# Default: 5
# Range: 1-20 (higher values = less sensitive to transient failures)
PRICE_UPDATE_FAILURE_THRESHOLD=5

# Duration (in milliseconds) to show the notification toast
# Default: 5000 (5 seconds)
# Range: 1000-30000
NOTIFICATION_DURATION_MS=5000

# ============================================================================
# API RETRY AND BACKOFF
# ============================================================================

# Maximum number of retry attempts for failed API requests
# Default: 3
# Range: 0-10 (0 = no retries)
API_MAX_RETRIES=3

# Initial delay (in milliseconds) before first retry
# Default: 1000 (1 second)
# Range: 100-5000
API_RETRY_INITIAL_DELAY_MS=1000

# Multiplier for exponential backoff
# Default: 2 (each retry waits 2x longer than previous)
# Range: 1.5-5.0
# Example: delay sequence with multiplier=2: 1s, 2s, 4s
API_RETRY_BACKOFF_MULTIPLIER=2

# Maximum delay (in milliseconds) between retries
# Default: 10000 (10 seconds)
# Range: 1000-60000
# Prevents exponential backoff from growing too large
API_RETRY_MAX_DELAY_MS=10000

# HTTP status codes that should trigger a retry (comma-separated)
# Default: 408,429,500,502,503,504
# 408 = Request Timeout
# 429 = Too Many Requests
# 500 = Internal Server Error
# 502 = Bad Gateway
# 503 = Service Unavailable
# 504 = Gateway Timeout
API_RETRYABLE_STATUS_CODES=408,429,500,502,503,504

# ============================================================================
# PAYLOAD SIZE VALIDATION
# ============================================================================

# Maximum number of symbols allowed in a single market data request
# Default: 50
# Range: 1-100
# Prevents URL length issues and excessive backend load
MAX_SYMBOLS_PER_REQUEST=50

# Maximum length (in characters) for text fields in BullPen creation/updates
# Default: 5000
# Range: 100-50000
# Applies to: description, rules, notes, etc.
MAX_TEXT_FIELD_LENGTH=5000

# Maximum number of shares allowed in a single order
# Default: 1000000
# Range: 1-10000000
MAX_SHARES_PER_ORDER=1000000

# Maximum price per share allowed in an order
# Default: 100000
# Range: 0.01-1000000
MAX_PRICE_PER_SHARE=100000

# Maximum number of items in bulk operations (arrays)
# Default: 100
# Range: 1-1000
# Applies to: bulk order creation, bulk position updates, etc.
MAX_BULK_ITEMS=100

# ============================================================================
# PERFORMANCE AND CACHING
# ============================================================================

# Enable requestAnimationFrame batching for DOM updates
# Default: true
# Set to false to disable batching (useful for debugging)
ENABLE_DOM_BATCHING=true

# Enable caching of derived metrics (portfolio calculations)
# Default: true
# Set to false to always recalculate (useful for debugging)
ENABLE_METRICS_CACHING=true

# Cache TTL (in milliseconds) for Finnhub API responses
# Default: 60000 (1 minute)
# Range: 0-3600000 (0 = no cache, 3600000 = 1 hour)
# Only applies to company profile and similar static data
FINNHUB_CACHE_TTL_MS=60000

# ============================================================================
# SECURITY
# ============================================================================

# Allowed authentication header keys (comma-separated)
# Default: Authorization,X-App-Version
# Only these header keys can be set by authManager.getAuthHeader()
ALLOWED_AUTH_HEADER_KEYS=Authorization,X-App-Version

# Enable strict header validation
# Default: true
# When true, rejects any attempt to set non-whitelisted headers
STRICT_HEADER_VALIDATION=true

# ============================================================================
# DEVELOPMENT AND DEBUGGING
# ============================================================================

# Enable verbose logging for API calls
# Default: false
# Set to true to log all API requests/responses to console
VERBOSE_API_LOGGING=false

# Enable performance monitoring
# Default: false
# Set to true to log performance metrics to console
ENABLE_PERFORMANCE_MONITORING=false

